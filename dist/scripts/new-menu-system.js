!function(){"use strict";console.log("🚀 NEW MENU SYSTEM: Loading...");const n={initialized:!1,menuContainer:null,menuItems:[{id:"manage-chats",title:"Manage Chats",icon:"💬",description:"Manage your ChatGPT conversations",action:"openManageChats"},{id:"manage-folders",title:"Manage Folders",icon:"📁",description:"Organize conversations into folders",action:"openManageFolders"},{id:"manage-prompts",title:"Manage Prompts",icon:"📝",description:"Create and manage custom prompts",action:"openManagePrompts"},{id:"media-gallery",title:"Media Gallery",icon:"🖼️",description:"View and manage media files",action:"openMediaGallery"}]},e={openManageChats:function(){console.log("🎯 Opening Manage Chats..."),this.createModal("manage-chats","Manage Chats",'\n                <div class="menu-modal-content">\n                    <h3>💬 Chat Management</h3>\n                    <p>Manage your ChatGPT conversations efficiently.</p>\n                    <div class="feature-list">\n                        <div class="feature-item">\n                            <strong>📊 Export Conversations</strong>\n                            <p>Export your chats to various formats (JSON, TXT, PDF)</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🗂️ Organize Chats</strong>\n                            <p>Sort and categorize your conversations</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🔍 Search History</strong>\n                            <p>Find specific conversations quickly</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🗑️ Bulk Actions</strong>\n                            <p>Delete or archive multiple conversations</p>\n                        </div>\n                    </div>\n                    <div class="action-buttons">\n                        <button class="action-btn primary" onclick="alert(\'Export feature coming soon!\')">\n                            📥 Export All Chats\n                        </button>\n                        <button class="action-btn secondary" onclick="alert(\'Search feature coming soon!\')">\n                            🔍 Search Chats\n                        </button>\n                    </div>\n                </div>\n            ')},openManageFolders:function(){console.log("🎯 Opening Manage Folders..."),this.createModal("manage-folders","Manage Folders",'\n                <div class="menu-modal-content">\n                    <h3>📁 Folder Management</h3>\n                    <p>Organize your conversations into folders for better management.</p>\n                    <div class="feature-list">\n                        <div class="feature-item">\n                            <strong>📂 Create Folders</strong>\n                            <p>Create new folders to organize your chats</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🔄 Move Conversations</strong>\n                            <p>Move chats between folders easily</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🏷️ Rename Folders</strong>\n                            <p>Change folder names and descriptions</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🗂️ Nested Folders</strong>\n                            <p>Create subfolders for advanced organization</p>\n                        </div>\n                    </div>\n                    <div class="action-buttons">\n                        <button class="action-btn primary" onclick="alert(\'Create folder feature coming soon!\')">\n                            ➕ Create New Folder\n                        </button>\n                        <button class="action-btn secondary" onclick="alert(\'Import feature coming soon!\')">\n                            📥 Import Folder Structure\n                        </button>\n                    </div>\n                </div>\n            ')},openManagePrompts:function(){console.log("🎯 Opening Manage Prompts..."),this.createModal("manage-prompts","Manage Prompts",'\n                <div class="menu-modal-content">\n                    <h3>📝 Prompt Management</h3>\n                    <p>Create, organize, and manage your custom ChatGPT prompts.</p>\n                    <div class="feature-list">\n                        <div class="feature-item">\n                            <strong>✏️ Create Prompts</strong>\n                            <p>Build custom prompts for specific tasks</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>📚 Prompt Library</strong>\n                            <p>Browse and use pre-made prompts</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🏷️ Categorize Prompts</strong>\n                            <p>Organize prompts by category or topic</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🔗 Prompt Chains</strong>\n                            <p>Create sequences of related prompts</p>\n                        </div>\n                    </div>\n                    <div class="action-buttons">\n                        <button class="action-btn primary" onclick="alert(\'Create prompt feature coming soon!\')">\n                            ➕ Create New Prompt\n                        </button>\n                        <button class="action-btn secondary" onclick="alert(\'Browse library feature coming soon!\')">\n                            📚 Browse Library\n                        </button>\n                    </div>\n                </div>\n            ')},openMediaGallery:function(){console.log("🎯 Opening Media Gallery..."),this.createModal("media-gallery","Media Gallery",'\n                <div class="menu-modal-content">\n                    <h3>🖼️ Media Gallery</h3>\n                    <p>View, organize, and manage images and media from your conversations.</p>\n                    <div class="feature-list">\n                        <div class="feature-item">\n                            <strong>🖼️ View All Images</strong>\n                            <p>Browse all images from your conversations</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>📥 Download Media</strong>\n                            <p>Download individual images or bulk download</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>🔍 Search Media</strong>\n                            <p>Find images by conversation or date</p>\n                        </div>\n                        <div class="feature-item">\n                            <strong>📚 Create Albums</strong>\n                            <p>Organize images into themed collections</p>\n                        </div>\n                    </div>\n                    <div class="gallery-preview">\n                        <h4>📸 Recent Media</h4>\n                        <div class="media-grid">\n                            <div class="media-item">🖼️ Image 1</div>\n                            <div class="media-item">🖼️ Image 2</div>\n                            <div class="media-item">🖼️ Image 3</div>\n                            <div class="media-item">🖼️ Image 4</div>\n                        </div>\n                    </div>\n                    <div class="action-buttons">\n                        <button class="action-btn primary" onclick="alert(\'Download all feature coming soon!\')">\n                            📥 Download All\n                        </button>\n                        <button class="action-btn secondary" onclick="alert(\'Create album feature coming soon!\')">\n                            📚 Create Album\n                        </button>\n                    </div>\n                </div>\n            ')},createModal:function(n,o,t){const a=document.getElementById("new-menu-modal");a&&a.remove();const i=document.createElement("div");i.id="new-menu-modal",i.className="new-menu-modal",i.innerHTML=`\n                <div class="modal-overlay">\n                    <div class="modal-container">\n                        <div class="modal-header">\n                            <h2>${o}</h2>\n                            <button class="close-btn" onclick="MenuActions.closeModal()">&times;</button>\n                        </div>\n                        <div class="modal-body">\n                            ${t}\n                        </div>\n                        <div class="modal-footer">\n                            <button class="action-btn secondary" onclick="MenuActions.closeModal()">Close</button>\n                        </div>\n                    </div>\n                </div>\n            `,document.body.appendChild(i),i.querySelector(".modal-overlay").addEventListener("click",function(n){n.target===this&&e.closeModal()}),document.addEventListener("keydown",function(n){"Escape"===n.key&&e.closeModal()}),console.log(`✅ Modal "${o}" created successfully`)},closeModal:function(){const n=document.getElementById("new-menu-modal");n&&(n.remove(),console.log("✅ Modal closed"))}};function o(){"none"===document.getElementById("new-menu-dropdown").style.display?(document.getElementById("new-menu-dropdown").style.display="block",console.log("📂 Menu opened")):t()}function t(){document.getElementById("new-menu-dropdown").style.display="none",console.log("📁 Menu closed")}!function a(){if(n.initialized)return void console.log("⚠️ Menu system already initialized");if(console.log("🚀 Initializing new menu system..."),"loading"===document.readyState)return void document.addEventListener("DOMContentLoaded",a);let i=document.querySelector("nav")||document.querySelector("header")||document.querySelector("main")||document.body;if(!i)return void console.error("❌ Could not find suitable element to inject menu");const s=function(){console.log("🎨 Creating new menu UI...");const a=document.createElement("div");a.id="new-menu-container",a.className="new-menu-container";const i=document.createElement("button");i.id="new-menu-button",i.className="new-menu-button",i.innerHTML="🚀 Extension Menu",i.addEventListener("click",o);const s=document.createElement("div");return s.id="new-menu-dropdown",s.className="new-menu-dropdown",s.style.display="none",n.menuItems.forEach(n=>{const o=document.createElement("div");o.className="menu-item",o.innerHTML=`\n                <span class="menu-icon">${n.icon}</span>\n                <div class="menu-text">\n                    <div class="menu-title">${n.title}</div>\n                    <div class="menu-description">${n.description}</div>\n                </div>\n            `,o.addEventListener("click",function(){console.log(`🎯 Menu item clicked: ${n.title}`),e[n.action](),t()}),s.appendChild(o)}),a.appendChild(i),a.appendChild(s),a}();i.appendChild(s),function(){const n=document.createElement("style");n.textContent="\n            .new-menu-container {\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 10000;\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            }\n            \n            .new-menu-button {\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                border: none;\n                padding: 12px 20px;\n                border-radius: 25px;\n                cursor: pointer;\n                font-weight: 600;\n                font-size: 14px;\n                box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n                transition: all 0.3s ease;\n            }\n            \n            .new-menu-button:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 6px 20px rgba(0,0,0,0.3);\n            }\n            \n            .new-menu-dropdown {\n                position: absolute;\n                top: 100%;\n                right: 0;\n                background: white;\n                border-radius: 12px;\n                box-shadow: 0 10px 30px rgba(0,0,0,0.2);\n                min-width: 300px;\n                margin-top: 10px;\n                overflow: hidden;\n                border: 1px solid #e0e0e0;\n            }\n            \n            .menu-item {\n                display: flex;\n                align-items: center;\n                padding: 15px 20px;\n                cursor: pointer;\n                border-bottom: 1px solid #f0f0f0;\n                transition: background-color 0.2s ease;\n            }\n            \n            .menu-item:hover {\n                background-color: #f8f9fa;\n            }\n            \n            .menu-item:last-child {\n                border-bottom: none;\n            }\n            \n            .menu-icon {\n                font-size: 24px;\n                margin-right: 15px;\n            }\n            \n            .menu-text {\n                flex: 1;\n            }\n            \n            .menu-title {\n                font-weight: 600;\n                color: #333;\n                font-size: 16px;\n            }\n            \n            .menu-description {\n                color: #666;\n                font-size: 14px;\n                margin-top: 2px;\n            }\n            \n            .new-menu-modal {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                z-index: 10001;\n            }\n            \n            .modal-overlay {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0,0,0,0.5);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            \n            .modal-container {\n                background: white;\n                border-radius: 12px;\n                max-width: 600px;\n                width: 90%;\n                max-height: 80vh;\n                overflow-y: auto;\n                box-shadow: 0 20px 40px rgba(0,0,0,0.3);\n            }\n            \n            .modal-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 20px;\n                border-bottom: 1px solid #e0e0e0;\n            }\n            \n            .modal-header h2 {\n                margin: 0;\n                color: #333;\n                font-size: 24px;\n            }\n            \n            .close-btn {\n                background: none;\n                border: none;\n                font-size: 24px;\n                cursor: pointer;\n                color: #666;\n                padding: 5px;\n            }\n            \n            .close-btn:hover {\n                color: #333;\n            }\n            \n            .modal-body {\n                padding: 20px;\n            }\n            \n            .modal-footer {\n                padding: 20px;\n                border-top: 1px solid #e0e0e0;\n                text-align: right;\n            }\n            \n            .menu-modal-content h3 {\n                color: #333;\n                margin-top: 0;\n            }\n            \n            .feature-list {\n                margin: 20px 0;\n            }\n            \n            .feature-item {\n                margin: 15px 0;\n                padding: 15px;\n                background: #f8f9fa;\n                border-radius: 8px;\n                border-left: 4px solid #667eea;\n            }\n            \n            .feature-item strong {\n                color: #333;\n                display: block;\n                margin-bottom: 5px;\n            }\n            \n            .feature-item p {\n                color: #666;\n                margin: 0;\n                font-size: 14px;\n            }\n            \n            .action-buttons {\n                display: flex;\n                gap: 10px;\n                margin-top: 20px;\n            }\n            \n            .action-btn {\n                padding: 10px 20px;\n                border: none;\n                border-radius: 6px;\n                cursor: pointer;\n                font-weight: 600;\n                transition: all 0.2s ease;\n            }\n            \n            .action-btn.primary {\n                background: #667eea;\n                color: white;\n            }\n            \n            .action-btn.primary:hover {\n                background: #5a6fd8;\n            }\n            \n            .action-btn.secondary {\n                background: #f8f9fa;\n                color: #333;\n                border: 1px solid #ddd;\n            }\n            \n            .action-btn.secondary:hover {\n                background: #e9ecef;\n            }\n            \n            .gallery-preview {\n                margin: 20px 0;\n            }\n            \n            .media-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n                gap: 10px;\n                margin-top: 10px;\n            }\n            \n            .media-item {\n                background: #f0f0f0;\n                padding: 20px;\n                border-radius: 8px;\n                text-align: center;\n                font-size: 12px;\n                color: #666;\n            }\n        ",document.head.appendChild(n)}(),n.initialized=!0,n.menuContainer=s,console.log("✅ New menu system initialized successfully!"),window.MenuActions=e,window.MenuSystem=n,setTimeout(()=>{console.log("🧪 Testing menu functions..."),n.menuItems.forEach(n=>{"function"==typeof e[n.action]?console.log(`✅ ${n.action} function is available`):console.error(`❌ ${n.action} function is missing`)})},1e3)}(),console.log("🎯 NEW MENU SYSTEM: Loaded successfully!")}();