console.log("ðŸ”§ CONTENT FIX: Patching content.js specific errors"),function(){"use strict";window.indexedDB,window.IDBTransaction,window.IDBObjectStore,function(){const e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(o,t,r){if("success"===o&&"IDBRequest"===this.constructor.name){const n=function(e){try{return t.call(this,e)}catch(o){if(o.message&&o.message.includes("isResetChatHistory")){"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught IndexedDB isResetChatHistory error: "+(o?o.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Providing fallback for IndexedDB operation");const t={isResetChatHistory:!1,target:e.target,result:e.target.result||{}};return e.target.result&&"object"==typeof e.target.result&&(e.target.result.hasOwnProperty("isResetChatHistory")||(e.target.result.isResetChatHistory=!1)),t}throw o}};return e.call(this,o,n,r)}return e.call(this,o,t,r)}}(),console.log("âœ… CONTENT FIX: IndexedDB wrapper created")}(),function(){"use strict";window.getIsResetChatHistory=function(e){try{return!(!e||"object"!=typeof e||!e.hasOwnProperty("isResetChatHistory"))&&e.isResetChatHistory}catch(e){return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: getIsResetChatHistory error: "+(e?e.message||"[Error object]":"undefined")),!1}};const e=function(e,o){if(e&&"object"==typeof e&&e.getIsResetChatHistory&&"function"==typeof e.getIsResetChatHistory){const t=e.getIsResetChatHistory;e.getIsResetChatHistory=function(){try{return t.apply(this,arguments)}catch(e){if(e.message&&e.message.includes("isResetChatHistory"))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log(`ERROR: ðŸš¨ CONTENT FIX: Caught getIsResetChatHistory error in ${o}: `+(e?e.message||"[Error object]":"undefined")),!1;throw e}},console.log(`âœ… CONTENT FIX: Protected getIsResetChatHistory in ${o}`)}};e(window,"window"),e(window.document,"document"),e(window.chrome,"chrome"),e(window.store,"store"),console.log("âœ… CONTENT FIX: getIsResetChatHistory functions protected")}(),function(){"use strict";const e=Promise.prototype.then;Promise.prototype.then=function(o,t){const r=o?function(e){try{return o.call(this,e)}catch(e){if(e&&e.message&&e.message.includes("isResetChatHistory"))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught Promise isResetChatHistory error: "+(e?e.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Providing fallback for Promise operation"),{isResetChatHistory:!1,originalError:e,fallbackProvided:!0};throw e}}:o,n=t?function(e){try{return e&&e.message&&(e.message.includes("Cannot read properties of undefined")||e.message.includes("Cannot read property")||e.message.includes("isResetChatHistory"))?("undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught Promise rejection isResetChatHistory error: "+(e?e.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Providing fallback for Promise rejection"),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory fallback")),{isResetChatHistory:!1,originalError:e,fallbackProvided:!0}):t.call(this,e)}catch(o){return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Error in wrappedOnRejected: "+(o?o.message||"[Error object]":"undefined")),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory fallback (call error)")),{isResetChatHistory:!1,originalError:e,callError:o,fallbackProvided:!0}}}:function(e){try{if(e&&e.message&&(e.message.includes("Cannot read properties of undefined")||e.message.includes("Cannot read property")||e.message.includes("isResetChatHistory")))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught unhandled Promise rejection isResetChatHistory error: "+(e?e.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Providing fallback for unhandled Promise rejection"),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory fallback (unhandled)")),{isResetChatHistory:!1,originalError:e,fallbackProvided:!0};throw e}catch(o){return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Error in default rejection handler: "+(o?o.message||"[Error object]":"undefined")),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory fallback (handler error)")),{isResetChatHistory:!1,originalError:e,handlerError:o,fallbackProvided:!0}}};return e.call(this,r,n)},console.log("âœ… CONTENT FIX: Promise operations protected")}(),function(){"use strict";if("undefined"!=typeof Generator&&Generator.prototype){const e=Generator.prototype.next;Generator.prototype.next=function(){try{return e.apply(this,arguments)}catch(e){if(e.message&&e.message.includes("isResetChatHistory"))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught Generator isResetChatHistory error: "+(e?e.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Providing fallback for Generator operation"),{value:{isResetChatHistory:!1,originalError:e,fallbackProvided:!0},done:!1};throw e}},console.log("âœ… CONTENT FIX: Generator operations protected")}}(),function(){"use strict";window.addEventListener("error",function(e){if(e.filename&&e.filename.includes("content.js")&&e.message&&e.message.includes("isResetChatHistory"))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Caught global content.js isResetChatHistory error: "+(e&&e.message?e.message:"[Event object]")),console.log("ðŸ”§ CONTENT FIX: Preventing error propagation"),e.preventDefault(),e.stopPropagation(),!1},!0),console.log("âœ… CONTENT FIX: Global error handler installed")}(),function(){"use strict";const e=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(o,t){try{return null==o?"isResetChatHistory"===t?(console.warn("ðŸš¨ CONTENT FIX: getOwnPropertyDescriptor called on undefined/null object for isResetChatHistory"),{value:!1,writable:!0,enumerable:!0,configurable:!0}):void 0:e.call(this,o,t)}catch(e){if(e.message&&e.message.includes("isResetChatHistory"))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: getOwnPropertyDescriptor error for isResetChatHistory: "+(e?e.message||"[Error object]":"undefined")),{value:!1,writable:!0,enumerable:!0,configurable:!0};throw e}},console.log("âœ… CONTENT FIX: Object property access interceptor installed")}(),function(){"use strict";window.addEventListener("unhandledrejection",function(e){const o=e.reason;if(o&&o.message&&(o.message.includes("isResetChatHistory")||o.message.includes("Cannot read properties of undefined")))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Global unhandled rejection for isResetChatHistory: "+(o?o.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Preventing unhandled rejection propagation"),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory (global handler)")),e.preventDefault(),!1}),window.addEventListener("error",function(e){if(e.error&&e.error.message&&(e.error.message.includes("isResetChatHistory")||e.error.message.includes("Cannot read properties of undefined")))return"undefined"!=typeof window&&window.console&&window.console.log&&window.console.log("ERROR: ðŸš¨ CONTENT FIX: Global error handler caught isResetChatHistory error: "+(e.error?e.error.message||"[Error object]":"undefined")),console.log("ðŸ”§ CONTENT FIX: Preventing error propagation"),window.hasOwnProperty("isResetChatHistory")||(window.isResetChatHistory=!1,console.log("ðŸ†˜ CONTENT FIX: Created emergency window.isResetChatHistory (error handler)")),e.preventDefault(),!1}),console.log("âœ… CONTENT FIX: Global rejection and error handlers installed")}(),console.log("ðŸŽ¯ CONTENT FIX: All content.js specific patches applied");