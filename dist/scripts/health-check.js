!function(){"use strict";console.log("🏥 Ishka Health Check script loaded"),window.HEALTH_CHECK_LOADED=!0,window.ISHKA_CONTENT_SCRIPTS_LOADED=!0,window.ISHKA_HEALTH_CHECK_READY=!0;let e={status:"ok",timestamp:Date.now(),conversationCount:0,features:{manageChats:!1,manageFolders:!1,managePrompts:!1}};function o(){e.timestamp=Date.now(),e.conversationCount=function(){try{const e=['[data-testid^="conversation-turn"]',".conversation-turn",'[role="presentation"] > div > div',"main nav ol li",'nav[aria-label="Chat history"] ol li'];let o=0;for(const t of e){const e=document.querySelectorAll(t);e.length>o&&(o=e.length)}return o}catch(e){return console.warn("Error counting conversations:",e),0}}(),e.features=function(){try{return{manageChats:null!==document.querySelector('nav[aria-label="Chat history"]'),manageFolders:null!==document.querySelector('[data-testid="folders"]')||null!==document.querySelector(".folder"),managePrompts:null!==document.querySelector('[data-testid="prompt-library"]')||null!==document.querySelector(".prompt")}}catch(e){return console.warn("Error checking premium features:",e),{manageChats:!1,manageFolders:!1,managePrompts:!1}}}()}chrome.runtime.onMessage.addListener((t,n,r)=>{try{switch(console.log("🏥 Health check received message:",t),t.action){case"healthCheck":return o(),r(e),!0;case"premiumEnabled":return console.log("🎯 Premium features enabled from",t.source),o(),r({status:"acknowledged"}),!0;case"runDebug":return console.log("🔍 Debug requested from",t.source),o(),console.log("=== ISHKA HEALTH CHECK DEBUG ==="),console.log("Health Data:",e),console.log("Page URL:",window.location.href),console.log("Page Title:",document.title),console.log("Conversations found:",e.conversationCount),console.log("Features:",e.features),r({status:"debug_complete",data:e}),!0;default:return!1}}catch(e){return console.error("🏥 Health check error:",e),r({status:"error",error:e.message}),!0}}),setTimeout(()=>{o(),console.log("🏥 Initial health check complete:",e)},1e3),setInterval(o,1e4),console.log("✅ Ishka Health Check script initialized")}();