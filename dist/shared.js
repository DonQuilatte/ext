"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkishka_extension"] = self["webpackChunkishka_extension"] || []).push([["shared"],{

/***/ "./src/shared/state/index.ts":
/*!***********************************!*\
  !*** ./src/shared/state/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StateManager: () => (/* binding */ StateManager),\n/* harmony export */   getState: () => (/* binding */ getState),\n/* harmony export */   setState: () => (/* binding */ setState),\n/* harmony export */   stateManager: () => (/* binding */ stateManager),\n/* harmony export */   subscribe: () => (/* binding */ subscribe)\n/* harmony export */ });\nclass StateManager {\n    constructor(initialState) {\n        this.state = initialState;\n        this.listeners = new Map();\n        this.storage = typeof chrome !== 'undefined' && chrome.storage ? chrome.storage.local : null;\n        this.initializeStorage();\n    }\n    async initializeStorage() {\n        if (!this.storage) {\n            console.warn('Chrome storage API not available');\n            return;\n        }\n        try {\n            const stored = await this.storage.get(null);\n            if (stored && Object.keys(stored).length > 0) {\n                this.state = { ...this.state, ...stored };\n            }\n        }\n        catch (error) {\n            console.warn('Failed to load state from storage:', error);\n        }\n    }\n    getState() {\n        return { ...this.state };\n    }\n    async setState(partial) {\n        const previousState = { ...this.state };\n        this.state = this.mergeState(this.state, partial);\n        if (this.storage) {\n            try {\n                await this.storage.set(partial);\n            }\n            catch (error) {\n                console.error('Failed to save state to storage:', error);\n            }\n        }\n        this.notifyListeners(previousState, this.state);\n    }\n    mergeState(current, partial) {\n        const merged = { ...current };\n        for (const [key, value] of Object.entries(partial)) {\n            if (value !== undefined) {\n                if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n                    merged[key] = this.mergeState(current[key], value);\n                }\n                else {\n                    merged[key] = value;\n                }\n            }\n        }\n        return merged;\n    }\n    subscribe(key, callback) {\n        if (!this.listeners.has(key)) {\n            this.listeners.set(key, new Set());\n        }\n        this.listeners.get(key).add(callback);\n        return () => {\n            const keyListeners = this.listeners.get(key);\n            if (keyListeners) {\n                keyListeners.delete(callback);\n                if (keyListeners.size === 0) {\n                    this.listeners.delete(key);\n                }\n            }\n        };\n    }\n    notifyListeners(previousState, currentState) {\n        for (const [key, listeners] of this.listeners) {\n            if (this.hasStateChanged(key, previousState, currentState)) {\n                listeners.forEach(callback => {\n                    try {\n                        callback(currentState);\n                    }\n                    catch (error) {\n                        console.error(`Error in state listener for key \"${key}\":`, error);\n                    }\n                });\n            }\n        }\n    }\n    hasStateChanged(key, previous, current) {\n        const previousValue = this.getNestedValue(previous, key);\n        const currentValue = this.getNestedValue(current, key);\n        return JSON.stringify(previousValue) !== JSON.stringify(currentValue);\n    }\n    getNestedValue(obj, path) {\n        return path.split('.').reduce((current, key) => current?.[key], obj);\n    }\n    async updateUser(userUpdates) {\n        await this.setState({ user: userUpdates });\n    }\n    async updateConversations(conversationUpdates) {\n        await this.setState({ conversations: conversationUpdates });\n    }\n    async updateUI(uiUpdates) {\n        await this.setState({ ui: uiUpdates });\n    }\n    async updateSettings(settingsUpdates) {\n        await this.setState({ settings: settingsUpdates });\n    }\n    async resetState() {\n        const initialState = this.getInitialState();\n        await this.setState(initialState);\n    }\n    async clearStorage() {\n        if (this.storage) {\n            try {\n                await this.storage.clear();\n            }\n            catch (error) {\n                console.error('Failed to clear storage:', error);\n            }\n        }\n    }\n    getInitialState() {\n        return {\n            user: {\n                isPremium: false,\n                isLoggedIn: false,\n                preferences: {\n                    theme: 'auto',\n                    language: 'en',\n                    enableNotifications: true,\n                    autoSave: true,\n                },\n            },\n            conversations: {\n                conversations: [],\n                folders: [],\n                searchQuery: '',\n                isLoading: false,\n            },\n            ui: {\n                isModalOpen: false,\n                snackbar: {\n                    isVisible: false,\n                    message: '',\n                    type: 'info',\n                },\n                sidebar: {\n                    isOpen: false,\n                    activeTab: 'conversations',\n                },\n                loading: {\n                    isLoading: false,\n                },\n            },\n            settings: {\n                general: {\n                    autoSaveInterval: 30000,\n                    maxConversations: 100,\n                    enableRTL: false,\n                    enableVoiceDownload: false,\n                },\n                premium: {\n                    isEnabled: false,\n                    features: [],\n                },\n                advanced: {\n                    debugMode: false,\n                    enableLogging: false,\n                },\n            },\n        };\n    }\n}\nconst stateManager = new StateManager({\n    user: {\n        isPremium: false,\n        isLoggedIn: false,\n        preferences: {\n            theme: 'auto',\n            language: 'en',\n            enableNotifications: true,\n            autoSave: true,\n        },\n    },\n    conversations: {\n        conversations: [],\n        folders: [],\n        searchQuery: '',\n        isLoading: false,\n    },\n    ui: {\n        isModalOpen: false,\n        snackbar: {\n            isVisible: false,\n            message: '',\n            type: 'info',\n        },\n        sidebar: {\n            isOpen: false,\n            activeTab: 'conversations',\n        },\n        loading: {\n            isLoading: false,\n        },\n    },\n    settings: {\n        general: {\n            autoSaveInterval: 30000,\n            maxConversations: 100,\n            enableRTL: false,\n            enableVoiceDownload: false,\n        },\n        premium: {\n            isEnabled: false,\n            features: [],\n        },\n        advanced: {\n            debugMode: false,\n            enableLogging: false,\n        },\n    },\n});\nconst getState = () => stateManager.getState();\nconst setState = (partial) => stateManager.setState(partial);\nconst subscribe = (key, callback) => stateManager.subscribe(key, callback);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SztZQUNiLFNBQVMsRUFBRSxlQUFlO1NBQzNCO1FBQ0QsT0FBTyxFQUFFO1lBQ1AsU0FBUyxFQUFFLEtBQUs7U0FDakI7S0FDRjtJQUNELFFBQVEsRUFBRTtRQUNSLE9BQU8sRUFBRTtZQUNQLGdCQUFnQixFQUFFLEtBQUs7WUFDdkIsZ0JBQWdCLEVBQUUsR0FBRztZQUNyQixTQUFTLEVBQUUsS0FBSztZQUNoQixtQkFBbUIsRUFBRSxLQUFLO1NBQzNCO1FBQ0QsT0FBTyxFQUFFO1lBQ1AsU0FBUyxFQUFFLEtBQUs7WUFDaEIsUUFBUSxFQUFFLEVBQUU7U0FDYjtRQUNELFFBQVEsRUFBRTtZQUNSLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLGFBQWEsRUFBRSxLQUFLO1NBQ3JCO0tBQ0Y7Q0FDRixDQUFDLENBQUM7QUFHSSxNQUFNLFFBQVEsR0FBRyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDL0MsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFvQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzFGLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBVyxFQUFFLFFBQXlDLEVBQUUsRUFBRSxDQUNsRixZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2lzaGthLWV4dGVuc2lvbi8uL3NyYy9zaGFyZWQvc3RhdGUvaW5kZXgudHM/NzY5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEV4dGVuc2lvblN0YXRlLCBEZWVwUGFydGlhbCB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFN0YXRlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGU6IEV4dGVuc2lvblN0YXRlO1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PChzdGF0ZTogRXh0ZW5zaW9uU3RhdGUpID0+IHZvaWQ+PjtcbiAgcHJpdmF0ZSBzdG9yYWdlOiBjaHJvbWUuc3RvcmFnZS5Mb2NhbFN0b3JhZ2VBcmVhIHwgbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihpbml0aWFsU3RhdGU6IEV4dGVuc2lvblN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnN0b3JhZ2UgPSB0eXBlb2YgY2hyb21lICE9PSAndW5kZWZpbmVkJyAmJiBjaHJvbWUuc3RvcmFnZSA/IGNocm9tZS5zdG9yYWdlLmxvY2FsIDogbnVsbDtcbiAgICB0aGlzLmluaXRpYWxpemVTdG9yYWdlKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTdG9yYWdlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5zdG9yYWdlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Nocm9tZSBzdG9yYWdlIEFQSSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGF3YWl0IHRoaXMuc3RvcmFnZS5nZXQobnVsbCk7XG4gICAgICBpZiAoc3RvcmVkICYmIE9iamVjdC5rZXlzKHN0b3JlZCkubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5zdG9yZWQgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBzdGF0ZSBmcm9tIHN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGdldFN0YXRlKCk6IEV4dGVuc2lvblN0YXRlIHtcbiAgICByZXR1cm4geyAuLi50aGlzLnN0YXRlIH07XG4gIH1cblxuICBhc3luYyBzZXRTdGF0ZShwYXJ0aWFsOiBEZWVwUGFydGlhbDxFeHRlbnNpb25TdGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcmV2aW91c1N0YXRlID0geyAuLi50aGlzLnN0YXRlIH07XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMubWVyZ2VTdGF0ZSh0aGlzLnN0YXRlLCBwYXJ0aWFsKTtcblxuICAgIC8vIFNhdmUgdG8gc3RvcmFnZVxuICAgIGlmICh0aGlzLnN0b3JhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3RvcmFnZS5zZXQocGFydGlhbCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzdGF0ZSB0byBzdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RpZnkgbGlzdGVuZXJzXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMocHJldmlvdXNTdGF0ZSwgdGhpcy5zdGF0ZSk7XG4gIH1cblxuICBwcml2YXRlIG1lcmdlU3RhdGUoY3VycmVudDogRXh0ZW5zaW9uU3RhdGUsIHBhcnRpYWw6IERlZXBQYXJ0aWFsPEV4dGVuc2lvblN0YXRlPik6IEV4dGVuc2lvblN0YXRlIHtcbiAgICBjb25zdCBtZXJnZWQgPSB7IC4uLmN1cnJlbnQgfTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsKSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgbWVyZ2VkW2tleSBhcyBrZXlvZiBFeHRlbnNpb25TdGF0ZV0gPSB0aGlzLm1lcmdlU3RhdGUoXG4gICAgICAgICAgICBjdXJyZW50W2tleSBhcyBrZXlvZiBFeHRlbnNpb25TdGF0ZV0gYXMgYW55LFxuICAgICAgICAgICAgdmFsdWUgYXMgYW55XG4gICAgICAgICAgKSBhcyBhbnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVyZ2VkW2tleSBhcyBrZXlvZiBFeHRlbnNpb25TdGF0ZV0gPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfVxuXG4gIHN1YnNjcmliZShrZXk6IHN0cmluZywgY2FsbGJhY2s6IChzdGF0ZTogRXh0ZW5zaW9uU3RhdGUpID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhrZXkpKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5zZXQoa2V5LCBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmxpc3RlbmVycy5nZXQoa2V5KSEuYWRkKGNhbGxiYWNrKTtcbiAgICBcbiAgICAvLyBSZXR1cm4gdW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3Qga2V5TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGtleSk7XG4gICAgICBpZiAoa2V5TGlzdGVuZXJzKSB7XG4gICAgICAgIGtleUxpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICBpZiAoa2V5TGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeUxpc3RlbmVycyhwcmV2aW91c1N0YXRlOiBFeHRlbnNpb25TdGF0ZSwgY3VycmVudFN0YXRlOiBFeHRlbnNpb25TdGF0ZSk6IHZvaWQge1xuICAgIC8vIE5vdGlmeSBhbGwgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBba2V5LCBsaXN0ZW5lcnNdIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBpZiAodGhpcy5oYXNTdGF0ZUNoYW5nZWQoa2V5LCBwcmV2aW91c1N0YXRlLCBjdXJyZW50U3RhdGUpKSB7XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soY3VycmVudFN0YXRlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gc3RhdGUgbGlzdGVuZXIgZm9yIGtleSBcIiR7a2V5fVwiOmAsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFzU3RhdGVDaGFuZ2VkKGtleTogc3RyaW5nLCBwcmV2aW91czogRXh0ZW5zaW9uU3RhdGUsIGN1cnJlbnQ6IEV4dGVuc2lvblN0YXRlKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRoaXMuZ2V0TmVzdGVkVmFsdWUocHJldmlvdXMsIGtleSk7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXROZXN0ZWRWYWx1ZShjdXJyZW50LCBrZXkpO1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwcmV2aW91c1ZhbHVlKSAhPT0gSlNPTi5zdHJpbmdpZnkoY3VycmVudFZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TmVzdGVkVmFsdWUob2JqOiBhbnksIHBhdGg6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoKGN1cnJlbnQsIGtleSkgPT4gY3VycmVudD8uW2tleV0sIG9iaik7XG4gIH1cblxuICAvLyBDb252ZW5pZW5jZSBtZXRob2RzIGZvciBzcGVjaWZpYyBzdGF0ZSB1cGRhdGVzXG4gIGFzeW5jIHVwZGF0ZVVzZXIodXNlclVwZGF0ZXM6IERlZXBQYXJ0aWFsPEV4dGVuc2lvblN0YXRlWyd1c2VyJ10+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7IHVzZXI6IHVzZXJVcGRhdGVzIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29udmVyc2F0aW9ucyhjb252ZXJzYXRpb25VcGRhdGVzOiBEZWVwUGFydGlhbDxFeHRlbnNpb25TdGF0ZVsnY29udmVyc2F0aW9ucyddPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuc2V0U3RhdGUoeyBjb252ZXJzYXRpb25zOiBjb252ZXJzYXRpb25VcGRhdGVzIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlVUkodWlVcGRhdGVzOiBEZWVwUGFydGlhbDxFeHRlbnNpb25TdGF0ZVsndWknXT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnNldFN0YXRlKHsgdWk6IHVpVXBkYXRlcyB9KTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVNldHRpbmdzKHNldHRpbmdzVXBkYXRlczogRGVlcFBhcnRpYWw8RXh0ZW5zaW9uU3RhdGVbJ3NldHRpbmdzJ10+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7IHNldHRpbmdzOiBzZXR0aW5nc1VwZGF0ZXMgfSk7XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZHNcbiAgYXN5bmMgcmVzZXRTdGF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSgpO1xuICAgIGF3YWl0IHRoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgfVxuXG4gIGFzeW5jIGNsZWFyU3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5zdG9yYWdlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjbGVhciBzdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEluaXRpYWxTdGF0ZSgpOiBFeHRlbnNpb25TdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgaXNQcmVtaXVtOiBmYWxzZSxcbiAgICAgICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgICAgIHByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgdGhlbWU6ICdhdXRvJyxcbiAgICAgICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgICAgICBlbmFibGVOb3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgIGF1dG9TYXZlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNvbnZlcnNhdGlvbnM6IHtcbiAgICAgICAgY29udmVyc2F0aW9uczogW10sXG4gICAgICAgIGZvbGRlcnM6IFtdLFxuICAgICAgICBzZWFyY2hRdWVyeTogJycsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICB9LFxuICAgICAgdWk6IHtcbiAgICAgICAgaXNNb2RhbE9wZW46IGZhbHNlLFxuICAgICAgICBzbmFja2Jhcjoge1xuICAgICAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJycsXG4gICAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICB9LFxuICAgICAgICBzaWRlYmFyOiB7XG4gICAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgICBhY3RpdmVUYWI6ICdjb252ZXJzYXRpb25zJyxcbiAgICAgICAgfSxcbiAgICAgICAgbG9hZGluZzoge1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgZ2VuZXJhbDoge1xuICAgICAgICAgIGF1dG9TYXZlSW50ZXJ2YWw6IDMwMDAwLFxuICAgICAgICAgIG1heENvbnZlcnNhdGlvbnM6IDEwMCxcbiAgICAgICAgICBlbmFibGVSVEw6IGZhbHNlLFxuICAgICAgICAgIGVuYWJsZVZvaWNlRG93bmxvYWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBwcmVtaXVtOiB7XG4gICAgICAgICAgaXNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBmZWF0dXJlczogW10sXG4gICAgICAgIH0sXG4gICAgICAgIGFkdmFuY2VkOiB7XG4gICAgICAgICAgZGVidWdNb2RlOiBmYWxzZSxcbiAgICAgICAgICBlbmFibGVMb2dnaW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vLyBHbG9iYWwgc3RhdGUgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBzdGF0ZU1hbmFnZXIgPSBuZXcgU3RhdGVNYW5hZ2VyKHtcbiAgdXNlcjoge1xuICAgIGlzUHJlbWl1bTogZmFsc2UsXG4gICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgcHJlZmVyZW5jZXM6IHtcbiAgICAgIHRoZW1lOiAnYXV0bycsXG4gICAgICBsYW5ndWFnZTogJ2VuJyxcbiAgICAgIGVuYWJsZU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICBhdXRvU2F2ZTogdHJ1ZSxcbiAgICB9LFxuICB9LFxuICBjb252ZXJzYXRpb25zOiB7XG4gICAgY29udmVyc2F0aW9uczogW10sXG4gICAgZm9sZGVyczogW10sXG4gICAgc2VhcmNoUXVlcnk6ICcnLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gIH0sXG4gIHVpOiB7XG4gICAgaXNNb2RhbE9wZW46IGZhbHNlLFxuICAgIHNuYWNrYmFyOiB7XG4gICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJycsXG4gICAgICB0eXBlOiAnaW5mbycsXG4gICAgfSxcbiAgICBzaWRlYmFyOiB7XG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgYWN0aXZlVGFiOiAnY29udmVyc2F0aW9ucycsXG4gICAgfSxcbiAgICBsb2FkaW5nOiB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG4gIHNldHRpbmdzOiB7XG4gICAgZ2VuZXJhbDoge1xuICAgICAgYXV0b1NhdmVJbnRlcnZhbDogMzAwMDAsXG4gICAgICBtYXhDb252ZXJzYXRpb25zOiAxMDAsXG4gICAgICBlbmFibGVSVEw6IGZhbHNlLFxuICAgICAgZW5hYmxlVm9pY2VEb3dubG9hZDogZmFsc2UsXG4gICAgfSxcbiAgICBwcmVtaXVtOiB7XG4gICAgICBpc0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgZmVhdHVyZXM6IFtdLFxuICAgIH0sXG4gICAgYWR2YW5jZWQ6IHtcbiAgICAgIGRlYnVnTW9kZTogZmFsc2UsXG4gICAgICBlbmFibGVMb2dnaW5nOiBmYWxzZSxcbiAgICB9LFxuICB9LFxufSk7XG5cbi8vIEV4cG9ydCBjb252ZW5pZW5jZSBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpO1xuZXhwb3J0IGNvbnN0IHNldFN0YXRlID0gKHBhcnRpYWw6IERlZXBQYXJ0aWFsPEV4dGVuc2lvblN0YXRlPikgPT4gc3RhdGVNYW5hZ2VyLnNldFN0YXRlKHBhcnRpYWwpO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZSA9IChrZXk6IHN0cmluZywgY2FsbGJhY2s6IChzdGF0ZTogRXh0ZW5zaW9uU3RhdGUpID0+IHZvaWQpID0+IFxuICBzdGF0ZU1hbmFnZXIuc3Vic2NyaWJlKGtleSwgY2FsbGJhY2spOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/shared/state/index.ts\n\n}");

/***/ }),

/***/ "./src/shared/utils/index.ts":
/*!***********************************!*\
  !*** ./src/shared/utils/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dateUtils: () => (/* binding */ dateUtils),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   domUtils: () => (/* binding */ domUtils),\n/* harmony export */   eventUtils: () => (/* binding */ eventUtils),\n/* harmony export */   storageUtils: () => (/* binding */ storageUtils),\n/* harmony export */   stringUtils: () => (/* binding */ stringUtils),\n/* harmony export */   validationUtils: () => (/* binding */ validationUtils)\n/* harmony export */ });\nconst domUtils = {\n    waitForElement(selector, timeout = 10000) {\n        return new Promise((resolve, reject) => {\n            const element = document.querySelector(selector);\n            if (element) {\n                resolve(element);\n                return;\n            }\n            const observer = new MutationObserver(() => {\n                const element = document.querySelector(selector);\n                if (element) {\n                    observer.disconnect();\n                    resolve(element);\n                }\n            });\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true,\n            });\n            setTimeout(() => {\n                observer.disconnect();\n                reject(new Error(`Element ${selector} not found within ${timeout}ms`));\n            }, timeout);\n        });\n    },\n    injectScript(src) {\n        return new Promise((resolve, reject) => {\n            const script = document.createElement('script');\n            script.src = src;\n            script.onload = () => resolve();\n            script.onerror = () => reject(new Error(`Failed to load script: ${src}`));\n            document.head.appendChild(script);\n        });\n    },\n    injectStyle(css) {\n        const style = document.createElement('style');\n        style.textContent = css;\n        document.head.appendChild(style);\n    },\n    removeElements(selector) {\n        document.querySelectorAll(selector).forEach(el => el.remove());\n    },\n    isElementVisible(element) {\n        const style = window.getComputedStyle(element);\n        return style.display !== 'none' && style.visibility !== 'hidden' && element.offsetParent !== null;\n    },\n};\nconst storageUtils = {\n    async get(key) {\n        if (typeof chrome === 'undefined' || !chrome.storage) {\n            return null;\n        }\n        try {\n            const result = await chrome.storage.local.get(key);\n            return result[key] || null;\n        }\n        catch (error) {\n            console.error('Failed to get from storage:', error);\n            return null;\n        }\n    },\n    async set(key, value) {\n        if (typeof chrome === 'undefined' || !chrome.storage) {\n            return;\n        }\n        try {\n            await chrome.storage.local.set({ [key]: value });\n        }\n        catch (error) {\n            console.error('Failed to set in storage:', error);\n        }\n    },\n    async remove(key) {\n        if (typeof chrome === 'undefined' || !chrome.storage) {\n            return;\n        }\n        try {\n            await chrome.storage.local.remove(key);\n        }\n        catch (error) {\n            console.error('Failed to remove from storage:', error);\n        }\n    },\n    async clear() {\n        if (typeof chrome === 'undefined' || !chrome.storage) {\n            return;\n        }\n        try {\n            await chrome.storage.local.clear();\n        }\n        catch (error) {\n            console.error('Failed to clear storage:', error);\n        }\n    },\n};\nconst stringUtils = {\n    generateId() {\n        return Math.random().toString(36).substring(2) + Date.now().toString(36);\n    },\n    truncate(text, maxLength, suffix = '...') {\n        if (text.length <= maxLength)\n            return text;\n        return text.substring(0, maxLength - suffix.length) + suffix;\n    },\n    toTitleCase(text) {\n        return text.replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n    },\n    sanitizeHtml(html) {\n        const div = document.createElement('div');\n        div.textContent = html;\n        return div.innerHTML;\n    },\n};\nconst dateUtils = {\n    formatRelativeTime(date) {\n        const now = new Date();\n        const diff = now.getTime() - date.getTime();\n        const seconds = Math.floor(diff / 1000);\n        const minutes = Math.floor(seconds / 60);\n        const hours = Math.floor(minutes / 60);\n        const days = Math.floor(hours / 24);\n        if (days > 0)\n            return `${days} day${days > 1 ? 's' : ''} ago`;\n        if (hours > 0)\n            return `${hours} hour${hours > 1 ? 's' : ''} ago`;\n        if (minutes > 0)\n            return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;\n        return 'Just now';\n    },\n    formatDate(date) {\n        return date.toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n        });\n    },\n};\nconst validationUtils = {\n    isValidUrl(string) {\n        try {\n            new URL(string);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    isValidEmail(email) {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return emailRegex.test(email);\n    },\n    isDefined(value) {\n        return value !== null && value !== undefined;\n    },\n};\nconst eventUtils = {\n    debounce(func, wait) {\n        let timeout;\n        return (...args) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => func(...args), wait);\n        };\n    },\n    throttle(func, limit) {\n        let inThrottle;\n        return (...args) => {\n            if (!inThrottle) {\n                func(...args);\n                inThrottle = true;\n                setTimeout(() => (inThrottle = false), limit);\n            }\n        };\n    },\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    dom: domUtils,\n    storage: storageUtils,\n    string: stringUtils,\n    date: dateUtils,\n    validation: validationUtils,\n    event: eventUtils,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUM7SUFDSixDQUFDO0lBS0QsUUFBUSxDQUNOLElBQU8sRUFDUCxLQUFhO1FBRWIsSUFBSSxVQUFtQixDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLElBQW1CLEVBQUUsRUFBRTtZQUNoQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ2hCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO2dCQUNkLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0JBQ2xCLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNoRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDO0lBQ0osQ0FBQztDQUNGLENBQUM7QUFHRixpRUFBZTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsT0FBTyxFQUFFLFlBQVk7SUFDckIsTUFBTSxFQUFFLFdBQVc7SUFDbkIsSUFBSSxFQUFFLFNBQVM7SUFDZixVQUFVLEVBQUUsZUFBZTtJQUMzQixLQUFLLEVBQUUsVUFBVTtDQUNsQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXNoa2EtZXh0ZW5zaW9uLy4vc3JjL3NoYXJlZC91dGlscy9pbmRleC50cz9iZjdkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIERPTSBVdGlsaXRpZXNcbmV4cG9ydCBjb25zdCBkb21VdGlscyA9IHtcbiAgLyoqXG4gICAqIFdhaXQgZm9yIGFuIGVsZW1lbnQgdG8gYmUgcHJlc2VudCBpbiB0aGUgRE9NXG4gICAqL1xuICB3YWl0Rm9yRWxlbWVudChzZWxlY3Rvcjogc3RyaW5nLCB0aW1lb3V0ID0gMTAwMDApOiBQcm9taXNlPEVsZW1lbnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcmVzb2x2ZShlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICByZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGBFbGVtZW50ICR7c2VsZWN0b3J9IG5vdCBmb3VuZCB3aXRoaW4gJHt0aW1lb3V0fW1zYCkpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgaW5qZWN0IGEgc2NyaXB0IGVsZW1lbnRcbiAgICovXG4gIGluamVjdFNjcmlwdChzcmM6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XG4gICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBzY3JpcHQ6ICR7c3JjfWApKTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBpbmplY3QgYSBzdHlsZSBlbGVtZW50XG4gICAqL1xuICBpbmplY3RTdHlsZShjc3M6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzcztcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBlbGVtZW50cyBtYXRjaGluZyBhIHNlbGVjdG9yXG4gICAqL1xuICByZW1vdmVFbGVtZW50cyhzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGVsZW1lbnQgaXMgdmlzaWJsZVxuICAgKi9cbiAgaXNFbGVtZW50VmlzaWJsZShlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICByZXR1cm4gc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIHN0eWxlLnZpc2liaWxpdHkgIT09ICdoaWRkZW4nICYmIChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5vZmZzZXRQYXJlbnQgIT09IG51bGw7XG4gIH0sXG59O1xuXG4vLyBTdG9yYWdlIFV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHN0b3JhZ2VVdGlscyA9IHtcbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gQ2hyb21lIHN0b3JhZ2VcbiAgICovXG4gIGFzeW5jIGdldDxUPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgICBpZiAodHlwZW9mIGNocm9tZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWNocm9tZS5zdG9yYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KGtleSk7XG4gICAgICByZXR1cm4gcmVzdWx0W2tleV0gfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBmcm9tIHN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgYSB2YWx1ZSBpbiBDaHJvbWUgc3RvcmFnZVxuICAgKi9cbiAgYXN5bmMgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHR5cGVvZiBjaHJvbWUgPT09ICd1bmRlZmluZWQnIHx8ICFjaHJvbWUuc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBba2V5XTogdmFsdWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgaW4gc3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB2YWx1ZSBmcm9tIENocm9tZSBzdG9yYWdlXG4gICAqL1xuICBhc3luYyByZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodHlwZW9mIGNocm9tZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWNocm9tZS5zdG9yYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZShrZXkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIGZyb20gc3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgc3RvcmFnZVxuICAgKi9cbiAgYXN5bmMgY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHR5cGVvZiBjaHJvbWUgPT09ICd1bmRlZmluZWQnIHx8ICFjaHJvbWUuc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5jbGVhcigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xlYXIgc3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9LFxufTtcblxuLy8gU3RyaW5nIFV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHN0cmluZ1V0aWxzID0ge1xuICAvKipcbiAgICogR2VuZXJhdGUgYSByYW5kb20gSURcbiAgICovXG4gIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpICsgRGF0ZS5ub3coKS50b1N0cmluZygzNik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRydW5jYXRlIHRleHQgdG8gYSBzcGVjaWZpYyBsZW5ndGhcbiAgICovXG4gIHRydW5jYXRlKHRleHQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIsIHN1ZmZpeCA9ICcuLi4nKTogc3RyaW5nIHtcbiAgICBpZiAodGV4dC5sZW5ndGggPD0gbWF4TGVuZ3RoKSByZXR1cm4gdGV4dDtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgKyBzdWZmaXg7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgdGV4dCB0byB0aXRsZSBjYXNlXG4gICAqL1xuICB0b1RpdGxlQ2FzZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1xcd1xcUyovZywgKHR4dCkgPT4gXG4gICAgICB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW5pdGl6ZSBIVE1MIHN0cmluZ1xuICAgKi9cbiAgc2FuaXRpemVIdG1sKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LnRleHRDb250ZW50ID0gaHRtbDtcbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfSxcbn07XG5cbi8vIERhdGUgVXRpbGl0aWVzXG5leHBvcnQgY29uc3QgZGF0ZVV0aWxzID0ge1xuICAvKipcbiAgICogRm9ybWF0IGRhdGUgdG8gcmVsYXRpdmUgdGltZVxuICAgKi9cbiAgZm9ybWF0UmVsYXRpdmVUaW1lKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKTtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihkaWZmIC8gMTAwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3VycyAvIDI0KTtcblxuICAgIGlmIChkYXlzID4gMCkgcmV0dXJuIGAke2RheXN9IGRheSR7ZGF5cyA+IDEgPyAncycgOiAnJ30gYWdvYDtcbiAgICBpZiAoaG91cnMgPiAwKSByZXR1cm4gYCR7aG91cnN9IGhvdXIke2hvdXJzID4gMSA/ICdzJyA6ICcnfSBhZ29gO1xuICAgIGlmIChtaW51dGVzID4gMCkgcmV0dXJuIGAke21pbnV0ZXN9IG1pbnV0ZSR7bWludXRlcyA+IDEgPyAncycgOiAnJ30gYWdvYDtcbiAgICByZXR1cm4gJ0p1c3Qgbm93JztcbiAgfSxcblxuICAvKipcbiAgICogRm9ybWF0IGRhdGUgdG8gcmVhZGFibGUgc3RyaW5nXG4gICAqL1xuICBmb3JtYXREYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgfSk7XG4gIH0sXG59O1xuXG4vLyBWYWxpZGF0aW9uIFV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25VdGlscyA9IHtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHN0cmluZyBpcyBhIHZhbGlkIFVSTFxuICAgKi9cbiAgaXNWYWxpZFVybChzdHJpbmc6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICBuZXcgVVJMKHN0cmluZyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHN0cmluZyBpcyBhIHZhbGlkIGVtYWlsXG4gICAqL1xuICBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdmFsdWUgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAqL1xuICBpc0RlZmluZWQ8VD4odmFsdWU6IFQpOiB2YWx1ZSBpcyBOb25OdWxsYWJsZTxUPiB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4gIH0sXG59O1xuXG4vLyBFdmVudCBVdGlsaXRpZXNcbmV4cG9ydCBjb25zdCBldmVudFV0aWxzID0ge1xuICAvKipcbiAgICogRGVib3VuY2UgZnVuY3Rpb24gY2FsbHNcbiAgICovXG4gIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gICAgZnVuYzogVCxcbiAgICB3YWl0OiBudW1iZXJcbiAgKTogKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHZvaWQge1xuICAgIGxldCB0aW1lb3V0OiBOb2RlSlMuVGltZW91dDtcbiAgICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMoLi4uYXJncyksIHdhaXQpO1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRocm90dGxlIGZ1bmN0aW9uIGNhbGxzXG4gICAqL1xuICB0aHJvdHRsZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICAgIGZ1bmM6IFQsXG4gICAgbGltaXQ6IG51bWJlclxuICApOiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4gdm9pZCB7XG4gICAgbGV0IGluVGhyb3R0bGU6IGJvb2xlYW47XG4gICAgcmV0dXJuICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB7XG4gICAgICBpZiAoIWluVGhyb3R0bGUpIHtcbiAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgaW5UaHJvdHRsZSA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gKGluVGhyb3R0bGUgPSBmYWxzZSksIGxpbWl0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxufTtcblxuLy8gRXhwb3J0IGFsbCB1dGlsaXRpZXNcbmV4cG9ydCBkZWZhdWx0IHtcbiAgZG9tOiBkb21VdGlscyxcbiAgc3RvcmFnZTogc3RvcmFnZVV0aWxzLFxuICBzdHJpbmc6IHN0cmluZ1V0aWxzLFxuICBkYXRlOiBkYXRlVXRpbHMsXG4gIHZhbGlkYXRpb246IHZhbGlkYXRpb25VdGlscyxcbiAgZXZlbnQ6IGV2ZW50VXRpbHMsXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/shared/utils/index.ts\n\n}");

/***/ })

}]);