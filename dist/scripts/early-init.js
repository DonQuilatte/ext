!function(){"use strict";try{const e=Reflect.get,r=Reflect.has,t=Object.getOwnPropertyDescriptor;Reflect.get=function(r,t,o){try{return null==r&&"isResetChatHistory"===t?(console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - Reflect.get intercepted undefined access to isResetChatHistory"),!1):e.call(this,r,t,o)}catch(e){if("isResetChatHistory"===t)return console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - Reflect.get error for isResetChatHistory, returning false"),!1;throw e}},Reflect.has=function(e,t){try{return null==e&&"isResetChatHistory"===t?(console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - Reflect.has intercepted undefined access to isResetChatHistory"),!0):r.call(this,e,t)}catch(e){return"isResetChatHistory"===t&&(console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - Reflect.has error for isResetChatHistory, returning true"),!0)}},Object.getOwnPropertyDescriptor=function(e,r){try{return null==e&&"isResetChatHistory"===r?(console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - getOwnPropertyDescriptor intercepted undefined access to isResetChatHistory"),{value:!1,writable:!0,enumerable:!1,configurable:!0}):t.call(this,e,r)}catch(e){if("isResetChatHistory"===r)return console.warn("üîß EARLY INIT: ULTRA-AGGRESSIVE - getOwnPropertyDescriptor error for isResetChatHistory, returning fallback"),{value:!1,writable:!0,enumerable:!1,configurable:!0};throw e}},console.log("üîß EARLY INIT: ULTRA-AGGRESSIVE property access protection installed")}catch(e){console.error("üîß EARLY INIT: ULTRA-AGGRESSIVE protection failed:",e)}}(),console.log("üöÄ EARLY INIT: Setting up critical properties before content.js"),console.log("üîç DEBUG: Script execution timing:",{timestamp:(new Date).toISOString(),readyState:document.readyState,bodyExists:!!document.body,existingProperties:{isResetChatHistory:typeof window.isResetChatHistory,local_folders:typeof window.local_folders,conversations:typeof window.conversations}});try{Object.defineProperty(window,"isResetChatHistory",{value:!1,writable:!0,enumerable:!0,configurable:!0}),console.log("‚úÖ EARLY INIT: isResetChatHistory defined successfully")}catch(e){console.error("‚ùå EARLY INIT: Failed to define isResetChatHistory:",e)}Object.defineProperty(window,"safeGetProperty",{value:function(e,r,t=null){try{return e&&void 0!==e[r]?e[r]:t}catch(e){return console.warn(`üö® EARLY INIT: Failed to get property ${r}:`,e),t}},writable:!0,enumerable:!0,configurable:!0});try{Object.defineProperty(window,"local_folders",{value:[],writable:!0,enumerable:!0,configurable:!0}),console.log("‚úÖ EARLY INIT: local_folders defined successfully")}catch(e){console.error("‚ùå EARLY INIT: Failed to define local_folders:",e),console.log("üîç DEBUG: Existing local_folders:",typeof window.local_folders,window.local_folders)}Object.defineProperty(window,"conversations",{value:[],writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"userFolders",{value:[],writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"prompts",{value:[],writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"isPremiumUser",{value:!0,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"isPremium",{value:!0,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"userPlan",{value:"premium",writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"subscriptionStatus",{value:"active",writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"DEV_MODE_PREMIUM",{value:!0,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"MOCK_PREMIUM",{value:!0,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"premiumStatus",{value:{active:!0,plan:"Premium",features:["manage_chats","manage_folders","manage_prompts"]},writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(window,"EARLY_INIT_COMPLETE",{value:!0,writable:!1,enumerable:!0,configurable:!1}),console.log("‚úÖ EARLY INIT: All critical properties initialized with Object.defineProperty"),console.log("üîç EARLY INIT: Final property check:",{isResetChatHistory:window.isResetChatHistory,local_folders:Array.isArray(window.local_folders)?`Array(${window.local_folders.length})`:typeof window.local_folders,conversations:Array.isArray(window.conversations)?`Array(${window.conversations.length})`:typeof window.conversations,isPremiumUser:window.isPremiumUser,timestamp:(new Date).toISOString()});